schema: '2.0'
stages:
  prepare:
    cmd: python prepare.py data/raw/train_data.csv
    deps:
    - path: data/raw/train_data.csv
      md5: 7088d92de3ab4ad8ca9fd2fac695ec3b
      size: 667115
    - path: prepare.py
      md5: 4e2cdbde4f0d61bfac893e899409f3e6
      size: 886
    params:
      params.yaml:
        prepare.seed: 42
        prepare.split: 0.2
    outs:
    - path: data/prepared
      md5: 194ff0db0325ec924cdd739697d87bc3.dir
      size: 661124
      nfiles: 2
  train:
    cmd: python train.py data/prepared data/models/model.pkl
    deps:
    - path: data/prepared
      md5: 194ff0db0325ec924cdd739697d87bc3.dir
      size: 661124
      nfiles: 2
    - path: train.py
      md5: 39db684588dbf6f1c229ca9d32adaf67
      size: 972
    params:
      params.yaml:
        train.C: 1
        train.features.max_features: 500
        train.features.ngrams: 1
        train.kernel: linear
    outs:
    - path: data/models/model.pkl
      md5: 16045e0c5b87668597df9c02aa6ed82b
      size: 156041
  evaluate:
    cmd: python evaluate.py data/models/model.pkl data/prepared
    deps:
    - path: data/models/model.pkl
      md5: 16045e0c5b87668597df9c02aa6ed82b
      size: 156041
    - path: data/prepared
      md5: 194ff0db0325ec924cdd739697d87bc3.dir
      size: 661124
      nfiles: 2
    - path: evaluate.py
      md5: b894157dc0811347d2ee585c021d413f
      size: 2396
    outs:
    - path: data/metrics/prc.json
      md5: 72a1770afc7d62acabf178540c57631d
      size: 12067
    - path: data/metrics/roc.json
      md5: a2b7f4d99f9ce1a7529a7e893fe05115
      size: 7823
    - path: data/metrics/scores.json
      md5: abb529586e60add96f8c9a23427fcd01
      size: 72
